"use strict";(globalThis["webpackChunkweb_admin"]=globalThis["webpackChunkweb_admin"]||[]).push([[488],{2488:(t,a,e)=>{e.r(a),e.d(a,{default:()=>w});var o=e(9835),n=e(1957);const s=t=>((0,o.dD)("data-v-8ad30084"),t=t(),(0,o.Cn)(),t),r=s((()=>(0,o._)("div",{class:"q-my-md",id:"map",style:{width:"100%",height:"500px"}},null,-1)));function i(t,a,e,s,i,l){const d=(0,o.up)("q-input"),m=(0,o.up)("q-btn"),c=(0,o.up)("q-form"),p=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{onSubmit:(0,n.iM)(l.onSubmit,["prevent"])},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{filled:"",modelValue:i.address,"onUpdate:modelValue":a[0]||(a[0]=t=>i.address=t),label:"Alamat",readonly:""},null,8,["modelValue"]),r,(0,o.Wm)(m,{type:"submit",label:"Submit",color:"primary"})])),_:1},8,["onSubmit"])])),_:1})}var l=e(4587),d=e.n(l);e(2406),e(5219);delete d().Icon.Default.prototype._getIconUrl,d().Icon.Default.mergeOptions({iconRetinaUrl:e(8927),iconUrl:e(2406),shadowUrl:e(5219)});const m={data(){return{searchQuery:"",address:"",map:null,marker:null,defaultLocation:{lat:-6.175392,lng:106.827153}}},mounted(){this.initMap()},methods:{initMap(){this.map=d().map("map").setView([this.defaultLocation.lat,this.defaultLocation.lng],13),d().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map),this.marker=d().marker([this.defaultLocation.lat,this.defaultLocation.lng],{draggable:!0}).addTo(this.map),this.marker.on("dragend",this.setLocationFromMarker)},setLocationFromMarker(t){const{lat:a,lng:e}=t.target.getLatLng();this.defaultLocation={lat:a,lng:e},this.reverseGeocode(a,e)},async reverseGeocode(t,a){const e=`https://nominatim.openstreetmap.org/reverse?format=json&lat=${t}&lon=${a}`;try{const t=await fetch(e),a=await t.json();this.address=a.display_name}catch(o){this.$q.notify({message:"Terjadi kesalahan saat mengambil alamat!",color:"negative"})}},onSubmit(){console.log("Lokasi yang dicari:",this.searchQuery);const t=this.marker.getLatLng();console.log("Koordinat:",t),console.log("Alamat:",this.address)}}};var c=e(1639),p=e(9885),u=e(8326),h=e(3119),g=e(8879),b=e(9984),f=e.n(b);const y=(0,c.Z)(m,[["render",i],["__scopeId","data-v-8ad30084"]]),w=y;f()(m,"components",{QPage:p.Z,QForm:u.Z,QInput:h.Z,QBtn:g.Z})}}]);